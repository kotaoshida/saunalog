"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const preact_1 = require("preact");
exports.createTableRow = (row, rowIdx) => {
    const elements = row.columns.map((col, colIdx) => {
        return (preact_1.h("td", { rowSpan: col.rowSpan, key: `col-${colIdx}` }, col.text));
    });
    return preact_1.h("tr", { key: `row-${rowIdx}` }, elements);
};
const styleProps = `
.ui.container {
  padding-top: 5em;
  padding-bottom: 5em;
}
`;
exports.Report = ({ errorRows, warningRows }) => {
    return (preact_1.h("html", { lang: "en" },
        preact_1.h("head", null,
            preact_1.h("meta", { charSet: "utf-8" }),
            preact_1.h("meta", { name: "viewport", content: "width=device-width, initial-scale=1, viewport-fit=cover" }),
            preact_1.h("title", null, "Library Check Report"),
            preact_1.h("link", { rel: "stylesheet", type: "text/css", href: "https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" }),
            preact_1.h("link", { rel: "stylesheet", type: "text/css", href: "https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/container.css" }),
            preact_1.h("script", { src: "https://code.jquery.com/jquery-3.1.1.min.js", integrity: "sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=", crossOrigin: "anonymous" }),
            preact_1.h("script", { src: "https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js" }),
            preact_1.h("style", null, styleProps)),
        preact_1.h("body", null,
            preact_1.h("div", { className: "ui container" },
                preact_1.h("h1", { className: "ui header" }, "yarn.lock checker report"),
                errorRows.length > 0 && (preact_1.h("div", { className: "ui" },
                    preact_1.h("h2", { className: "ui header" }, "Errors"),
                    preact_1.h("div", { className: "ui top attached error icon message" },
                        preact_1.h("i", { className: "attention icon" }),
                        preact_1.h("div", { className: "content" }, "multi version installed error!")),
                    preact_1.h("table", { className: "ui structured selectable celled table" },
                        preact_1.h("thead", null,
                            preact_1.h("tr", null,
                                preact_1.h("th", null, "Package"),
                                preact_1.h("th", null, "Real used version"),
                                preact_1.h("th", null, "used packages"))),
                        preact_1.h("tbody", null, errorRows.map(exports.createTableRow))))),
                preact_1.h("div", { className: "ui section divider" }),
                warningRows.length > 0 && (preact_1.h("div", { className: "ui" },
                    preact_1.h("h2", { className: "ui header" }, "Warning"),
                    preact_1.h("div", { className: "ui top attached warning icon message" },
                        preact_1.h("i", { className: "attention icon" }),
                        preact_1.h("div", { className: "content" }, "Warning")),
                    preact_1.h("table", { className: "ui structured selectable celled table" },
                        preact_1.h("thead", null,
                            preact_1.h("tr", null,
                                preact_1.h("th", null, "Package"),
                                preact_1.h("th", null, "Real used version"),
                                preact_1.h("th", null, "used packages"))),
                        preact_1.h("tbody", null, warningRows.map(exports.createTableRow)))))))));
};
