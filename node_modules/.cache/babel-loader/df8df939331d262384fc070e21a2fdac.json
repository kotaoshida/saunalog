{"ast":null,"code":"import _toConsumableArray from\"/Users/kotaoshida/Desktop/Project/saunalog/cliant/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/kotaoshida/Desktop/Project/saunalog/cliant/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import ListSubheader from'@material-ui/core/ListSubheader';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import Axios from\"axios\";import\"./select.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{formControl:{margin:theme.spacing(2),minWidth:200,display:\"flex\",flexDirection:\"row\"}};});var google=window.google;export default function GroupedSelect(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),city=_useState2[0],setCity=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),prefucture=_useState4[0],setPrefucture=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),cityForSearch=_useState6[0],setCityForSearch=_useState6[1];var _useState7=useState([\"a\"]),_useState8=_slicedToArray(_useState7,2),saunaList=_useState8[0],setSaunaList=_useState8[1];useEffect(function(){Axios.get(\"https://opendata.resas-portal.go.jp/api/v1/prefectures\",{headers:{\"X-API-KEY\":\"JZ6Nzmm6F54YU3FD7RvDEZ1qUU9RgpbGF1GdkObS\"}}).then(function(res){var result=res.data.result;result.map(function(val){setPrefucture(function(prev){return[].concat(_toConsumableArray(prev),[val]);});});});},[]);var classes=useStyles();var getCity=function getCity(code){Axios.get(\"https://opendata.resas-portal.go.jp/api/v1/cities?prefCode=\".concat(code),{headers:{\"X-API-KEY\":\"JZ6Nzmm6F54YU3FD7RvDEZ1qUU9RgpbGF1GdkObS\"}}).then(function(res){var result=res.data.result;setCity([]);result.map(function(val){setCity(function(prev){return[].concat(_toConsumableArray(prev),[val]);});});});};var getSaunaList=function getSaunaList(e){var map;var service;var word=\"サウナ\"+e.target.value;console.log(word);map=new google.maps.Map(document.getElementById('map'));service=new google.maps.places.PlacesService(map);function callback(results,status){if(status==google.maps.places.PlacesServiceStatus.OK){results.map(function(val){setSaunaList(function(prev){return[].concat(_toConsumableArray(prev),[val]);});console.log(val);});}}service.textSearch({query:word},callback);setSaunaList([]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"grouped-native-select1\",minWidth:\"2000\",children:\"\\u90FD\\u9053\\u5E9C\\u770C\"}),/*#__PURE__*/_jsxs(Select,{native:true,defaultValue:\"\",id:\"grouped-native-select1\",onChange:function onChange(e){getCity(e.target.value);},minWidth:\"200\",children:[/*#__PURE__*/_jsx(\"option\",{\"aria-label\":\"None\",value:\"\"}),/*#__PURE__*/_jsx(\"optgroup\",{label:\"\\u90FD\\u9053\\u5E9C\\u770C\",children:prefucture.map(function(val){return/*#__PURE__*/_jsx(\"option\",{value:val.prefCode,children:val.prefName});})})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"grouped-native-select2\",children:\"\\u5E02\\u533A\\u753A\\u6751\"}),/*#__PURE__*/_jsxs(Select,{native:true,defaultValue:\"\",id:\"grouped-native-select2\",onChange:function onChange(e){getSaunaList(e);},children:[/*#__PURE__*/_jsx(\"option\",{\"aria-label\":\"None\"}),/*#__PURE__*/_jsx(\"optgroup\",{label:\"\\u5E02\\u533A\\u753A\\u6751\",children:city.map(function(val){return/*#__PURE__*/_jsx(\"option\",{children:val.cityName});})})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"grouped-native-select3\",children:\"\\u30B5\\u30A6\\u30CA\"}),/*#__PURE__*/_jsxs(Select,{native:true,defaultValue:\"\",id:\"grouped-native-select3\",onChange:function onChange(e){props.setsauna(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{\"aria-label\":\"None\"}),/*#__PURE__*/_jsx(\"optgroup\",{label:\"\\u30B5\\u30A6\\u30CA\",children:saunaList.map(function(val){return/*#__PURE__*/_jsx(\"option\",{children:val.name});})})]})]})})]});}","map":{"version":3,"sources":["/Users/kotaoshida/Desktop/Project/saunalog/cliant/src/components/helper/dialog/select.jsx"],"names":["React","useEffect","useState","makeStyles","InputLabel","MenuItem","ListSubheader","FormControl","Select","Axios","useStyles","theme","formControl","margin","spacing","minWidth","display","flexDirection","google","window","GroupedSelect","props","city","setCity","prefucture","setPrefucture","cityForSearch","setCityForSearch","saunaList","setSaunaList","get","headers","then","res","result","data","map","val","prev","classes","getCity","code","getSaunaList","e","service","word","target","value","console","log","maps","Map","document","getElementById","places","PlacesService","callback","results","status","PlacesServiceStatus","OK","textSearch","query","prefCode","prefName","cityName","setsauna","name"],"mappings":"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","sourcesContent":["import React ,{useEffect,useState}from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Axios from\"axios\";\nimport \"./select.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(2),\n    minWidth: 200,\n    display:\"flex\",\n    flexDirection:\"row\"\n\n  },\n}));\n\nconst google = window.google;\n\nexport default  function GroupedSelect(props) {\n\n    const [city,setCity]= useState([]);\n    const [prefucture,setPrefucture]=useState([]);\n    const [cityForSearch,setCityForSearch]=useState(\"\");\n    const [saunaList,setSaunaList]=useState([\"a\"]);\n\n    useEffect(() => {\n    　Axios.get(\"https://opendata.resas-portal.go.jp/api/v1/prefectures\",{\n            headers:{\"X-API-KEY\":\"JZ6Nzmm6F54YU3FD7RvDEZ1qUU9RgpbGF1GdkObS\"}}).then((res)=>{\n                const result=res.data.result\n                result.map((val)=>{\n                   setPrefucture(prev=>[...prev,val])})\n                })            \n        },[]);\n\n  const classes = useStyles();\n\n  const getCity=(code)=>{\n    Axios.get(`https://opendata.resas-portal.go.jp/api/v1/cities?prefCode=${code}`,{\n        headers:{\"X-API-KEY\":\"JZ6Nzmm6F54YU3FD7RvDEZ1qUU9RgpbGF1GdkObS\"}}).then((res)=>{\n            const result=res.data.result\n            setCity([]);\n            result.map((val)=>{\n                setCity(prev=>[...prev,val])})\n        })\n                     };\n\n    const getSaunaList=(e)=>{\n        \n        let map;\n        let service;\n        const word = \"サウナ\"+e.target.value;\n        console.log(word)\n        map = new google.maps.Map(document.getElementById('map'))\n        service = new google.maps.places.PlacesService(map);\n        function callback(results, status) {\n            if (status == google.maps.places.PlacesServiceStatus.OK) {\n                results.map((val)=>{\n                    setSaunaList(prev=>[...prev,val])\n                    console.log(val)\n              })}\n            \n          }\n        service.textSearch({query:word},callback)\n        setSaunaList([])\n        };\n\n  return (\n    \n    <div className=\"form\">\n    <div>\n      <FormControl className={classes.formControl} >\n        <InputLabel htmlFor=\"grouped-native-select1\" minWidth=\"2000\">都道府県</InputLabel>\n        <Select native defaultValue=\"\" id=\"grouped-native-select1\" onChange={(e)=>{getCity(e.target.value)}} minWidth=\"200\">\n          <option aria-label=\"None\" value=\"\" />\n          <optgroup label=\"都道府県\">\n                {prefucture.map((val)=>{\n                    return(\n                    <option value={val.prefCode}>{val.prefName}</option>)\n                })}\n          </optgroup>\n          </Select>\n          </FormControl>\n     </div>     \n     <div>\n          <FormControl className={classes.formControl}>\n          <InputLabel htmlFor=\"grouped-native-select2\">市区町村</InputLabel>\n          <Select native defaultValue=\"\" id=\"grouped-native-select2\" onChange={(e)=>{getSaunaList(e)}} >\n          <option aria-label=\"None\"/>\n          <optgroup label=\"市区町村\">\n                {city.map((val)=>{\n                    return(\n                    <option >{val.cityName}</option>)\n                })}\n          </optgroup>\n          </Select>\n          </FormControl>\n\n        </div>\n    <div>\n          <FormControl className={classes.formControl}>\n          <InputLabel htmlFor=\"grouped-native-select3\">サウナ</InputLabel>\n          <Select native defaultValue=\"\" id=\"grouped-native-select3\" onChange={(e)=>{props.setsauna(e.target.value)}}>\n          <option aria-label=\"None\"/>\n          <optgroup label= \"サウナ\">\n                {saunaList.map((val)=>{\n                    return(\n                    <option >{val.name}</option>)\n                })}\n          </optgroup>\n          </Select>\n      </FormControl>\n      \n    </div>\n    </div>\n  );\n    }"]},"metadata":{},"sourceType":"module"}