{"ast":null,"code":"import _slicedToArray from\"/Users/kotaoshida/Desktop/Project/saunalog/cliant/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"./upload.css\";import Axios from\"axios\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Upload=function Upload(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),discription=_useState4[0],setDiscription=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var history=useHistory();var upload=function upload(){var formData=new FormData();formData.append(\"file\",image[0]);formData.append(\"upload_preset\",'vhfqywka');Axios.post(\"https://api.cloudinary.com/v1_1/dyflxpls8/image/upload\",formData).then(function(response){var fileId=response.data.public_id;Axios.post(\"http://localhost:3001/upload\",{title:title,discription:discription,imageid:fileId,username:localStorage.getItem(\"username\")}).then(function(r){console.log(r);history.push(\"/\");});});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"Upload\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"UploadForm\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"upload\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"title...\",onChange:function onChange(e){setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"discription...\",onChange:function onChange(e){setDiscription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){setImage(e.target.files);}}),/*#__PURE__*/_jsx(\"button\",{onClick:upload,children:\"Upload\"})]})})});};export default Upload;","map":{"version":3,"sources":["/Users/kotaoshida/Desktop/Project/saunalog/cliant/src/pages/upload/upload.jsx"],"names":["React","useState","Axios","useHistory","Upload","title","setTitle","discription","setDiscription","image","setImage","history","upload","formData","FormData","append","post","then","response","fileId","data","public_id","imageid","username","localStorage","getItem","r","console","log","push","e","target","value","files"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,KAAP,KAAiB,OAAjB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,C,wFAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eAEMH,QAAQ,CAAC,EAAD,CAFd,wCAEVI,KAFU,eAEJC,QAFI,8BAGkBL,QAAQ,CAAC,EAAD,CAH1B,yCAGVM,WAHU,eAGEC,cAHF,8BAIMP,QAAQ,CAAC,EAAD,CAJd,yCAIVQ,KAJU,eAIJC,QAJI,eAMjB,GAAIC,CAAAA,OAAO,CAAGR,UAAU,EAAxB,CAEA,GAAMS,CAAAA,MAAM,CAAE,QAARA,CAAAA,MAAQ,EAAK,CACf,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAuBN,KAAK,CAAC,CAAD,CAA5B,EACAI,QAAQ,CAACE,MAAT,CAAgB,eAAhB,CAAgC,UAAhC,EAEAb,KAAK,CAACc,IAAN,CAAW,wDAAX,CAAoEH,QAApE,EAA8EI,IAA9E,CAAmF,SAACC,QAAD,CAAY,CAC3F,GAAMC,CAAAA,MAAM,CAAGD,QAAQ,CAACE,IAAT,CAAcC,SAA7B,CACAnB,KAAK,CAACc,IAAN,CAAW,8BAAX,CAA0C,CACtCX,KAAK,CAACA,KADgC,CAEtCE,WAAW,CAACA,WAF0B,CAGtCe,OAAO,CAACH,MAH8B,CAItCI,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAJ6B,CAA1C,EAKMR,IALN,CAKW,SAACS,CAAD,CAAK,CACRC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAf,OAAO,CAACkB,IAAR,CAAa,GAAb,EACH,CARL,EASH,CAXD,EAYH,CAjBD,CAqBA,mBACI,kCACI,YAAK,SAAS,CAAC,QAAf,uBAEA,aAAK,SAAS,CAAC,YAAf,wBACA,8BADA,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,UAA/B,CACA,QAAQ,CAAE,kBAACC,CAAD,CAAK,CAACxB,QAAQ,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CAAyB,CADzC,EAFJ,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,gBAA/B,CACA,QAAQ,CAAE,kBAACF,CAAD,CAAK,CAACtB,cAAc,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CAA+B,CAD/C,EAJJ,cAMI,cAAO,IAAI,CAAC,MAAZ,CACA,QAAQ,CAAE,kBAACF,CAAD,CAAK,CAACpB,QAAQ,CAACoB,CAAC,CAACC,MAAF,CAASE,KAAV,CAAR,CAAyB,CADzC,EANJ,cAQI,eAAQ,OAAO,CAAErB,MAAjB,oBARJ,GAFA,EADJ,EADJ,CAkBH,CA/CD,CAkDA,cAAeR,CAAAA,MAAf","sourcesContent":["import React,{useState} from 'react';\nimport \"./upload.css\";\nimport Axios from\"axios\";\nimport {useHistory} from \"react-router-dom\"\n\n\nconst Upload = () => {\n\n    const [title,setTitle]=useState(\"\");\n    const [discription,setDiscription]=useState(\"\");\n    const [image,setImage]=useState([]);\n\n    let history = useHistory();\n\n    const upload =()=> {\n        const formData = new FormData();\n        formData.append(\"file\",image[0]);\n        formData.append(\"upload_preset\",'vhfqywka')\n\n        Axios.post(\"https://api.cloudinary.com/v1_1/dyflxpls8/image/upload\",formData).then((response)=>{\n            const fileId = response.data.public_id;\n            Axios.post(\"http://localhost:3001/upload\",{\n                title:title,\n                discription:discription,\n                imageid:fileId,\n                username:localStorage.getItem(\"username\")}\n                ).then((r)=>{\n                    console.log(r)\n                    history.push(\"/\")\n                })\n        });\n    }\n\n\n\n    return (\n        <div>\n            <div className=\"Upload\">\n                \n            <div className=\"UploadForm\">\n            <h1>upload</h1>\n                <input type=\"text\" placeholder=\"title...\" \n                onChange={(e)=>{setTitle(e.target.value)}}/>\n                <input type=\"text\" placeholder=\"discription...\" \n                onChange={(e)=>{setDiscription(e.target.value)}}/>\n                <input type=\"file\" \n                onChange={(e)=>{setImage(e.target.files)}}/>\n                <button onClick={upload}>Upload</button>\n            </div>\n        </div>\n        \n        </div>\n    );\n};\n\n\nexport default Upload;"]},"metadata":{},"sourceType":"module"}