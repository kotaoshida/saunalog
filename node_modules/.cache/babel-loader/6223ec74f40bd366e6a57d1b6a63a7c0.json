{"ast":null,"code":"import _slicedToArray from\"/Users/kotaoshida/Desktop/Project/saunalog/cliant/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import\"./login.css\";import{useHistory}from\"react-router-dom\";import{LoginContext}from\"../../components/helper/context\";import Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(LoginContext),logined=_useContext.logined,setLogined=_useContext.setLogined;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var history=useHistory();var login=function login(){Axios.post(\"https://saunalogs.herokuapp.com/user/login\",{username:username,password:password}).then(function(res){if(res.data.login){setLogined(true);localStorage.setItem(\"username\",username);history.push(\"/\");console.log(res);}else{setMessage(res.data.message);}});};return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username...\",onChange:function onChange(e){setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"password...\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"login\"}),message]})});};export default Login;","map":{"version":3,"sources":["/Users/kotaoshida/Desktop/Project/saunalog/cliant/src/pages/login/login.jsx"],"names":["React","useState","useContext","useHistory","LoginContext","Axios","Login","logined","setLogined","username","setUsername","password","setPassword","message","setMessage","history","login","post","then","res","data","localStorage","setItem","push","console","log","e","target","value"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,UAAvB,KAAuC,OAAvC,CACA,MAAO,aAAP,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,YAAR,KAAyB,iCAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,iBAEWJ,UAAU,CAACE,YAAD,CAFrB,CAETG,OAFS,aAETA,OAFS,CAEDC,UAFC,aAEDA,UAFC,eAIaP,QAAQ,CAAC,EAAD,CAJrB,wCAITQ,QAJS,eAIAC,WAJA,8BAKaT,QAAQ,CAAC,EAAD,CALrB,yCAKTU,QALS,eAKAC,WALA,8BAOWX,QAAQ,CAAC,EAAD,CAPnB,yCAOTY,OAPS,eAODC,UAPC,eAShB,GAAIC,CAAAA,OAAO,CAAGZ,UAAU,EAAxB,CAEA,GAAMa,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAI,CACdX,KAAK,CAACY,IAAN,CAAW,4CAAX,CAAwD,CACpDR,QAAQ,CAACA,QAD2C,CAEpDE,QAAQ,CAACA,QAF2C,CAAxD,EAGOO,IAHP,CAGY,SAACC,GAAD,CAAO,CACf,GAAGA,GAAG,CAACC,IAAJ,CAASJ,KAAZ,CAAkB,CACdR,UAAU,CAAC,IAAD,CAAV,CACAa,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAgCb,QAAhC,EACAM,OAAO,CAACQ,IAAR,CAAa,GAAb,EACAC,OAAO,CAACC,GAAR,CAAYN,GAAZ,EACH,CALD,IAKK,CACDL,UAAU,CAACK,GAAG,CAACC,IAAJ,CAASP,OAAV,CAAV,CAEH,CAAC,CAZN,EAaH,CAdD,CAgBA,mBACI,YAAK,SAAS,CAAC,OAAf,uBACK,aAAK,SAAS,CAAC,WAAf,wBACG,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,aAA/B,CACA,QAAQ,CAAE,kBAACa,CAAD,CAAK,CAAChB,WAAW,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAD5C,EADH,cAGG,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,aAA/B,CACA,QAAQ,CAAE,kBAACF,CAAD,CAAK,CAACd,WAAW,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAD5C,EAHH,cAKG,eAAQ,OAAO,CAAEZ,KAAjB,mBALH,CAMIH,OANJ,GADL,EADJ,CAaH,CAxCD,CA4CA,cAAeP,CAAAA,KAAf","sourcesContent":["import React,{useState,useContext}from 'react';\nimport \"./login.css\"\nimport {useHistory} from \"react-router-dom\";\nimport {LoginContext}from\"../../components/helper/context\";\nimport Axios from \"axios\"\n\nconst Login = () => {\n\n    const {logined,setLogined}=useContext(LoginContext);\n\n    const [username,setUsername]=useState(\"\");\n    const [password,setPassword]=useState(\"\");\n\n    const [message,setMessage]=useState(\"\");\n\n    let history = useHistory();\n\n    const login = ()=>{\n        Axios.post(\"https://saunalogs.herokuapp.com/user/login\",{\n            username:username,\n            password:password,\n            }).then((res)=>{\n            if(res.data.login){\n                setLogined(true);\n                localStorage.setItem(\"username\",username);\n                history.push(\"/\");\n                console.log(res)\n            }else{\n                setMessage(res.data.message);\n                \n            }})\n    }\n\n    return (\n        <div className=\"login\">\n             <div className=\"loginForm\">\n                <input type=\"text\" placeholder=\"username...\" \n                onChange={(e)=>{setUsername(e.target.value)}}/>\n                <input type=\"text\" placeholder=\"password...\"\n                onChange={(e)=>{setPassword(e.target.value)}}/>\n                <button onClick={login}>login</button>\n                {message}\n            </div>\n           \n        </div>\n    );\n};\n\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}